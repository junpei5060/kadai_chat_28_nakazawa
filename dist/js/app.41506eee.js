(function(t){function e(e){for(var i,a,r=e[0],c=e[1],u=e[2],l=0,m=[];l<r.length;l++)a=r[l],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&m.push(s[a][0]),s[a]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);d&&d(e);while(m.length)m.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],i=!0,r=1;r<n.length;r++){var c=n[r];0!==s[c]&&(i=!1)}i&&(o.splice(e--,1),t=a(a.s=n[0]))}return t}var i={},s={app:0},o=[];function a(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=i,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var u=0;u<r.length;u++)e(r[u]);var d=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},1540:function(t,e,n){},"2bdc":function(t,e,n){},"2f87":function(t,e,n){"use strict";var i=n("1540"),s=n.n(i);s.a},"4a86":function(t,e,n){"use strict";var i=n("9cb0"),s=n.n(i);s.a},"56d7":function(t,e,n){"use strict";n.r(e);n("99af"),n("b0c0"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("body",[n("header",[t._m(0),n("nav",{staticClass:"pc-nav"},[n("ul",[n("li",[n("router-link",{attrs:{to:"/"}},[t._v("Home")])],1),n("li",[n("router-link",{attrs:{to:"/form"}},[t._v("新規作成")])],1)])])]),n("transition",{attrs:{mode:"”out-in”"}},[n("router-view")],1)],1)])},o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h1",[n("a",{attrs:{href:"/"}},[t._v("Brain Storage")]),n("br")])}],a={name:"App",components:{}},r=a,c=(n("9db6"),n("2877")),u=Object(c["a"])(r,s,o,!1,null,"042a733c",null),d=u.exports,l=n("8c4f"),m=n("0a63"),f=n.n(m),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("home"),n("div",{staticClass:"memo-list container-fluent"},[n("div",{staticClass:"row justify-content-center"},t._l(t.memos,(function(t,e){return n("memo-list-card",{key:e,attrs:{memo:t}})})),1)])],1)},h=[],v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{container:""}},[n("body",[n("div",{staticClass:"home"},[n("h1",[t._v("Brain Storage CoLorFul")]),n("p",{staticClass:"subtitle"},[t._v("すべての記憶をここに保存しよう ")]),n("div",[n("router-link",{staticClass:"button",attrs:{to:"/form",type:"submit"},nativeOn:{click:function(e){return e.preventDefault(),t.addMemo(e)}}},[n("span",{staticClass:"add-text"},[t._v("Add")])])],1)]),n("router-link",{staticClass:"btn-circle-fishy",attrs:{to:"form"}},[t._v(" Add ")])],1)])},b=[],g={},_=g,y=(n("8e17"),Object(c["a"])(_,v,b,!1,null,"0ff20d9c",null)),C=y.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{container:""}},[n("div",{staticClass:"card"},[n("img",{staticClass:"card-img",attrs:{src:"https://images.unsplash.com/photo-1526047932273-341f2a7631f9?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60",alt:""}}),n("div",[n("a",{staticClass:"button",on:{click:function(e){return t.remove(t.memo.id)}}},[n("span",[t._v("削除")])])]),n("div",{staticClass:"card-content"},[n("h1",{staticClass:"card-title"},[t._v(" "+t._s(t.formatedTitle))])]),n("p",{staticClass:"card-sub"},[t._v("詳細")]),n("span",{staticClass:"card-text"},[t._v(t._s(t.formatedDescription))])])])},M=[],O=(n("a4d3"),n("e01a"),{name:"MemoListCard",data:function(){return{releasedAtFromNow:this.getReleasedAtFromNow()}},mounted:function(){var t=this;window.setInterval((function(){t.releasedAtFromNow=t.getReleasedAtFromNow()}),6e4)},props:{memo:{type:Object,required:!0}},methods:{getReleasedAtFromNow:function(){return this.memo&&this.memo.releasedAt?this.$moment(this.memo.releasedAt).fromNow():""},getOmissionAndPlusMidpoint:function(t,e){return t.length<e?t:t.substr(0,e)+"…"},init:function(){this.$store.dispatch("memos/clear")},start:function(){this.$store.dispatch("memos/startListener")},stop:function(){this.$store.dispatch("memos/stopListener")},remove:function(t){this.$store.dispatch("memos/deleteMemo",{id:t})}},computed:{formatedTitle:function(){return this.memo&&this.memo.title?this.getOmissionAndPlusMidpoint(this.memo.title,100):""},formatedDescription:function(){return this.memo&&this.memo.description?this.getOmissionAndPlusMidpoint(this.memo.description,500):""},memos:function(){return this.$store.getters["memos/data"]}}}),x=O,E=(n("2f87"),Object(c["a"])(x,w,M,!1,null,"058c9ad9",null)),$=E.exports,A={name:"MemoList",components:{Home:C,"memo-list-card":$},data:function(){return{}},mounted:function(){this.init(),this.start()},destroyed:function(){this.stop()},methods:{init:function(){this.$store.dispatch("memos/clear")},start:function(){this.$store.dispatch("memos/startListener")},stop:function(){this.$store.dispatch("memos/stopListener")},remove:function(t){this.$store.dispatch("memos/deleteMemo",{id:t})}},computed:{memos:function(){return this.$store.getters["memos/data"]}}},j=A,S=(n("4a86"),Object(c["a"])(j,p,h,!1,null,"290db58c",null)),k=S.exports,P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"bg"}),n("div",{staticClass:"bg bg2"}),n("div",{staticClass:"bg bg3"}),n("div",{staticClass:"content"},[n("h1",{staticClass:"title"},[t._v("あなたの記憶装置をつくろう")]),n("h2",{staticClass:"sub"},[t._v("覚えた用語を追加しましょう")]),n("div",{staticClass:"cp_iptxt"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.memo.title,expression:"memo.title",modifiers:{trim:!0}}],staticClass:"ef",attrs:{type:"text",placeholder:"用語を入力"},domProps:{value:t.memo.title},on:{input:function(e){e.target.composing||t.$set(t.memo,"title",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),t._m(0)]),n("div",{staticClass:"cp_iptxt"},[n("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.memo.description,expression:"memo.description",modifiers:{trim:!0}}],staticClass:"ef",attrs:{type:"text",placeholder:"詳細を記入"},domProps:{value:t.memo.description},on:{input:function(e){e.target.composing||t.$set(t.memo,"description",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),t._v(" "),t._m(1)]),n("div",[n("router-link",{staticClass:"button",attrs:{to:"/thanks",type:"submit"},nativeOn:{click:function(e){return e.preventDefault(),t.addMemo(e)}}},[n("span",{staticClass:"add-text"},[t._v("Add")])])],1)])])},L=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"focus_line"},[n("i")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"focus_line"},[n("i")])}],N={ERROR_MEMO:{id:-1,title:"unknown",description:"unknown",platforms:[],million:!1,releasedAt:null},NEW_EMPTY_MEMO:function(){return{id:0,title:"",description:"",platforms:[],million:!1,releasedAt:null}},PLATFORMS:["FC","SFC","GB","64","GC","DS","Wii","3DS","Wii U","Switch"]},D={name:"MemoListForm",data:function(){return{memo:this.emptyMemo()}},methods:{addMemo:function(){this.memo.title&&this.memo.description&&(this.memo.platforms=[],this.memo.million=!1,this.memo.releasedAt=new Date,this.$store.dispatch("memos/addMemo",this.memo),this.memo=this.emptyMemo())},emptyMemo:function(){return N.NEW_EMPTY_MEMO()}},watch:{memo:function(t,e){console.log("new: %s, old: %s",JSON.stringify(t),JSON.stringify(e))}}},T=D,B=(n("e894"),Object(c["a"])(T,P,L,!1,null,"49588c1c",null)),F=B.exports,I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"bg"}),n("div",{staticClass:"bg bg2"}),n("div",{staticClass:"bg bg3"}),n("div",{staticClass:"content"},[t._m(0),n("div",[n("router-link",{staticClass:"button",attrs:{to:"/form"}},[n("span",{staticClass:"add-text"},[t._v("Add More")])])],1)])])},W=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h3",[t._v("Thank you! Become a GEEK that changes the world")])])}],R=(n("b79f"),{}),U=Object(c["a"])(R,I,W,!1,null,"251d2999",null),J=U.exports;i["default"].use(l["a"]),i["default"].use(f.a),i["default"].config.productionTip=!1;var Y=new l["a"]({mode:"history",routes:[{path:"/",name:"MemoList",component:k,meta:{title:"memo list"}},{path:"/form",component:F},{path:"/thanks",component:J}]}),G=n("2f62"),H=(n("caad"),n("c975"),n("a434"),n("2532"),n("8aa5")),K=n.n(H),q=(n("e71f"),{apiKey:"AIzaSyBEeYBWh1YLhmyWs7o3UriKowuGDBrN5WU",authDomain:"project-memo-17a70.firebaseapp.com",databaseURL:"https://project-memo-17a70.firebaseio.com",projectId:"project-memo-17a70",storageBucket:"project-memo-17a70.appspot.com",messagingSenderId:"774245133492",appId:"1:774245133492:web:8bc71c5e0f5825f95a7be1"}),z=K.a.initializeApp(q,"exercise-vue"),Q=z.firestore();Q.settings({timestampsInSnapshots:!0});var V=Q,X=V.collection("memos"),Z={namespaced:!0,unsubscribe:null,state:function(){return{data:{}}},mutations:{set:function(t,e){t.data=e}},getters:{data:function(t){return t.data}},actions:{clear:function(t){var e=t.commit;e("set",N.NEW_EMPTY_MEMO())},startListener:function(t,e){var n=t.commit;this.unsubscribe&&(console.warn("listener is running. ",this.unsubscribe),this.unsubscribe(),this.unsubscribe=null),this.unsubscribe=X.doc(e.id).onSnapshot((function(t){n("set",{id:t.id,title:t.data().title,description:t.data().description,platforms:t.data().platforms,million:t.data().million,releasedAt:new Date(1e3*t.data().releasedAt.seconds)})}))},stopListener:function(){this.unsubscribe&&(console.log("listener is stopping. ",this.unsubscribe),this.unsubscribe(),this.unsubscribe=null)},updateMillion:function(t){var e=t.state,n=!e.data.million;X.doc(e.data.id).update({million:n}).then((function(){})).catch((function(t){console.error("Error updating document: ",t)}))},updatePlatforms:function(t,e){var n=t.state,i=[].concat(n.data.platforms);i.includes(e.platform)?i.splice(i.indexOf(e.platform),1):i.push(e.platform),X.doc(n.data.id).update({platforms:i}).then((function(){})).catch((function(t){console.error("Error updating document: ",t)}))}}},tt=(n("c740"),n("4160"),n("159b"),V.collection("memos")),et={namespaced:!0,unsubscribe:null,state:function(){return{data:[]}},mutations:{init:function(t,e){t.data=e},add:function(t,e){t.data.push(e)},set:function(t,e){var n=t.data.findIndex((function(t){return t.id===e.id}));-1!==n&&(t.data[n]=e)},remove:function(t,e){var n=t.data.findIndex((function(t){return t.id===e.id}));-1!==n&&t.data.splice(n,1)}},getters:{data:function(t){return t.data}},actions:{clear:function(t){var e=t.commit;e("init",[])},startListener:function(t){var e=t.commit;this.unsubscribe&&(console.warn("listener is running. ",this.unsubscribe),this.unsubscribe(),this.unsubscribe=null),this.unsubscribe=tt.orderBy("releasedAt","asc").onSnapshot((function(t){t.docChanges().forEach((function(t){var n={id:t.doc.id,title:t.doc.data().title,description:t.doc.data().description,platforms:t.doc.data().platforms,million:t.doc.data().million,releasedAt:new Date(1e3*t.doc.data().releasedAt.seconds)};"added"===t.type?e("add",n):"modified"===t.type?e("set",n):"removed"===t.type&&e("remove",n)}))}),(function(t){console.error(t.name)}))},stopListener:function(){this.unsubscribe&&(console.log("listener is stopping. ",this.unsubscribe),this.unsubscribe(),this.unsubscribe=null)},addMemo:function(t,e){t.commit;tt.add(e).then((function(t){})).catch((function(t){console.error("Error adding document: ",t)}))},deleteMemo:function(t,e){t.commit;tt.doc(e.id).delete().then((function(){})).catch((function(t){console.error("Error removing document: ",t)}))}}};i["default"].use(G["a"]);var nt=new G["a"].Store({modules:{memo:Z,memos:et},strict:!1}),it=nt,st=n("7ba4"),ot=n.n(st),at=n("2ead"),rt=n.n(at),ct=n("5f5b");n("f9e3"),n("2dd8");i["default"].config.productionTip=!1,i["default"].use(ot.a),i["default"].use(rt.a),i["default"].use(ct["a"]),i["default"].mixin({methods:{},computed:{routeInfo:{get:function(){return"".concat(this.$route.name," : ").concat(this.$route.path)}}}}),new i["default"]({router:Y,store:it,Inview:ot.a,components:{App:d},template:"<App/>",render:function(t){return t(d)}}).$mount("#app")},"8e17":function(t,e,n){"use strict";var i=n("d428"),s=n.n(i);s.a},"9cb0":function(t,e,n){},"9db6":function(t,e,n){"use strict";var i=n("b50f"),s=n.n(i);s.a},b50f:function(t,e,n){},b79f:function(t,e,n){"use strict";var i=n("2bdc"),s=n.n(i);s.a},d2f8:function(t,e,n){},d428:function(t,e,n){},e894:function(t,e,n){"use strict";var i=n("d2f8"),s=n.n(i);s.a}});
//# sourceMappingURL=app.41506eee.js.map